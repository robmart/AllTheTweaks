<Patch>
  <!-- Ambrosia -->
  <Operation Class="AllTheTweaks.PatchOperation.ATTPatchOperationToggleable">
    <enabled>True</enabled>
    <mods>
      <li>Core</li>
    </mods>
    <label>_canAmbrosiaBeGrown</label>
    <match Class="PatchOperationSequence">
      <operations>
        <!-- Add the research -->
        <li Class="PatchOperationAdd">
          <success>Always</success>
          <xpath>/Defs</xpath>
          <value>
            <ResearchProjectDef>
              <defName>RMAmbrosiaResearch</defName>
              <label>Ambrosia</label>
              <description>Due to your now advanced scanning capabilities, you can figure out how to grow ambrosia. Ambrosia can only be grown using hydroponics.</description>
              <baseCost>2500</baseCost>
              <techLevel>Spacer</techLevel>
              <researchViewX>10.00</researchViewX>
              <researchViewY>0</researchViewY>
              <prerequisites>
                <li>Hydroponics</li>
              </prerequisites>
            </ResearchProjectDef>
          </value>
        </li>
        <!-- Make them plantable -->
        <li Class="PatchOperationAdd">
          <success>Always</success>
          <xpath>/Defs/ThingDef[defName = "Plant_Ambrosia"]/plant</xpath>
          <value>
            <sowMinSkill>18</sowMinSkill>
            <sowTags>
              <li>Hydroponic</li>
            </sowTags>
            <sowResearchPrerequisites>
              <li>RMAmbrosiaResearch</li>
            </sowResearchPrerequisites>
          </value>
        </li>
      </operations>
    </match>
  </Operation>
</Patch>